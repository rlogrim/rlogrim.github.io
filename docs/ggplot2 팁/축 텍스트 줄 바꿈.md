---
layout: post
title: 축 텍스트 줄 바꿈
parent: ggplot2 팁
published: false
---

# 축 텍스트 줄 바꿈
{: .no_toc }

## 목차
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## 축 텍스트 길이가 길어서 서로 중첩될 때

```ggplot2```로 그래프를 그리다보면, 축 텍스트가 길어서 줄 바꿈하고 싶을 때가 있음

## 일정 너비가 넘어가면 줄 바꾸기

```str_wrap``` 함수를 이용해서 축 텍스트 너비가 일정 범위를 넘어서면 줄 바꿈하도록 설정하는 방법이 있음

width 인자의 숫자를 바꾸면 텍스트 너비를 조정할 수 있음

```R
scale_x_discrete(labels=function(x){str_wrap(x, width=8)})
```

## 특정 문자(괄호, 대쉬 등)가 시작될 때 줄 바꾸기

```sub``` 함수와 정규표현식(regular expression) 사용해서 특정 문자(괄호, 대쉬, 쉼표, 공백 등)가 시작될 때 줄 바꾸도록 설정하는 방법도 있음

정규표현식에서 괄호는 "\\(", 줄 바꿈(line break)은 "\n"으로, 공백문자(whitespace)는 "\\s"로 표현함

```R
# 괄호 앞 줄 바꿈
scale_x_discrete(labels=function(x){sub("\\(", "\n\\(", x)})

# 대쉬 뒤 줄 바꿈
scale_x_discrete(labels=function(x){sub("-", "-\n", x)})

# 대쉬 뒤 줄 바꿈 후 공백 줄 바꿈
scale_x_discrete(labels = function(x){
    y=sub("-", "-\n", x)
    sub("\\s", "\n", y)})
```
