---
layout: default
title: 글꼴 크기 설정
parent: ggplot2 팁
published: true
---

# 글꼴 크기 설정
{: .no_toc }

## 목차
{: .no_toc .text-delta }

1. TOC
{:toc}

---

## theme, geom_text는 다르다

```theme```에서 글꼴 크기를 설정하면 도표 안의 모든 텍스트 크기를 일괄 조정할 수 있다고 착각할 수 있음

그러나 ```theme``` 함수로는 축, 범례 등 데이터와 무관한 텍스트만 조정할 수 있음

```geom_text```로 출력되는 텍스트(예: 막대그래프 위의 수치)는 따로 설정이 필요함

그리고 ```theme```, ```geom_text```의 size 인자는 단위가 다름

```theme```에서 size는 'pt 단위'로 정의되지만, ```geom_text```에서 size는 'mm 단위'로 정의됨

## 데이터가 아닌 텍스트(제목, 축, 범례 등) 크기 조정

먼저 Complete theme이나 ```theme```에서 텍스트 기본 크기(base size)를 10pt로 설정함

```R
# 방법 1
theme_classic(base_size=10)

# 방법2
theme(
    text=element_text(size=10)
)
```

그러나 이렇게 하면 축, 범례 크기가 10pt보다 작게 출력됨

왜냐? 축 텍스트(```axis.text```)나 범례 텍스트(```legend.text```)의 size는 기본 크기의 0.8배로 출력되도록 설정되어 있기 때문임

그렇다면 어떻게 해야 축이나 범례 텍스트를 10pt로 설정할 수 있을까?

축이나 범레 텍스트가 기본 크기와 같은 크기로 출력될 수 있도록 ```rel```로 조정하면 됨

```R
theme(
    text=element_text(size=10),
    axis.text=element_text(size=rel(1)),
    legend.text=element_text(size=rel(1))
)
```

## 데이터 관련 텍스트 크기 조정

데이터 관련 텍스트 크기를 10pt로 조정하려면 어떻게 해야 할까?

```geom_text```의 size는 단위가 mm이니까 10pt를 mm 단위로 환산한 값을 넣어줘야 함

1pt : 0.3514598mm => 10pt = 3.514598mm로 직접 계산해도 좋지만 더 쉬운 방법이 있음

ggplot에서는 특별한 상수(1mm가 몇 pt인지 나타내는 상수, ```.pt```)가 정의되어 있어서 이를 이용하면 됨

1mm : ```.pt``` = Xmm : 10pt => X = 10/```.pt```

```R
# 방법 1
geom_text(size=3.514598)

# 방법2
geom_text(size=10/.pt)
```

## 도표가 여러개일 때 글꼴 크기 간단하게 조정하는 법

모든 도표의 텍스트 크기를 좀더 쉽게 바꾸고 싶다면, theme.size, geom.text.size처럼 변수를 만들어서 설정해 주는 방법이 있음

나중에 모든 텍스트 크기를 11pt로 바꾸고 싶다면, theme.size, geom.text.size만 다시 정의해주면 됨

```R
# 변수 정의
theme.size = 10
goem.text.size = theme.size/.pt

# geom_text 글꼴 크기 설정
geom_text(size=geom.text.size)

# theme 글꼴 크기 설정
theme(
    text=element_text(size=theme.size),
    axis.text=element_text(size=rel(1)),
    legend.text=element_text(size=rel(1))
)
```

## 참고자료
[Understanding text size and resolution in ggplot2](https://www.christophenicault.com/post/understand_size_dimension_ggplot2/)

[theme-defaults.r](https://github.com/tidyverse/ggplot2/blob/HEAD/R/theme-defaults.r)