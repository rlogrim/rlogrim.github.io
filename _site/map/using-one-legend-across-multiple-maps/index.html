<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>지도 범례 고정해서 시점별 변화 비교하기 - 알로그림</title>
<meta name="description" content="연도별 지도를 그렸는데 지도마다 색이 달라져서 값 비교가 어렵지 않았나요? 여러 지도가 같은 색상 범례를 공유하면 색만 봐도 값의 크기와 변화를 한 눈에 비교할 수 있습니다. 공통 범례 설정 방법을 알려드립니다.">


  <meta name="author" content="알빈치(Rvinci)">
  
  <meta property="article:author" content="알빈치(Rvinci)">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="알로그림">
<meta property="og:title" content="지도 범례 고정해서 시점별 변화 비교하기">
<meta property="og:url" content="http://localhost:4000/map/using-one-legend-across-multiple-maps/">


  <meta property="og:description" content="연도별 지도를 그렸는데 지도마다 색이 달라져서 값 비교가 어렵지 않았나요? 여러 지도가 같은 색상 범례를 공유하면 색만 봐도 값의 크기와 변화를 한 눈에 비교할 수 있습니다. 공통 범례 설정 방법을 알려드립니다.">







  <meta property="article:published_time" content="2026-01-07T00:00:00+09:00">






<link rel="canonical" href="http://localhost:4000/map/using-one-legend-across-multiple-maps/">












<!-- end _includes/seo.html -->


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  window.enable_copy_code_button = true;
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- Pretendard (Korean UI / Body) -->
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.css">

<!-- JetBrains Mono (Code Blocks) -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          알로그림
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/data/"
                
                
              >데이터 가공</a>
            </li><li class="masthead__menu-item">
              <a
                href="/chart/"
                
                
              >차트</a>
            </li><li class="masthead__menu-item">
              <a
                href="/map/"
                
                
              >지도</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/images/avatar.png" alt="알빈치(Rvinci)" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">알빈치(Rvinci)</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>R로 그림을 그린 지 어언 6년. 
연구기관에 재직 중이며, 
엑셀로 해결될 일도 굳이 R로 그려보는 편입니다.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="mailto:rlogrim.blog@gmail.com" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope" aria-hidden="true"></i><span class="label">rlogrim.blog@gmail.com</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="지도 범례 고정해서 시점별 변화 비교하기">
    <meta itemprop="description" content="연도별 지도를 그렸는데 지도마다 색이 달라져서 값 비교가 어렵지 않았나요? 여러 지도가 같은 색상 범례를 공유하면 색만 봐도 값의 크기와 변화를 한 눈에 비교할 수 있습니다. 공통 범례 설정 방법을 알려드립니다.">
    <meta itemprop="datePublished" content="2026-01-07T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/map/using-one-legend-across-multiple-maps/" itemprop="url">지도 범례 고정해서 시점별 변화 비교하기
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-07T00:00:00+09:00">January 7, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="왜-범례를-고정해야-하나요">왜 범례를 고정해야 하나요?</h2>

<p>시점(연도)이 다른 지도를 비교할 때 자주 겪는 문제는 지도마다 색상
범례가 달라지는 것입니다. 예를 들어 1995년과 2023년 서울 자치구 인구
지도를 각각 따로 그리면, 각 그림은 각 데이터 범위에 맞춰 색을 나눕니다.
그러면 1995년 지도에서 ’진한 빨강’이더라도, 2023년 지도에서의 ’진한
빨강’과 같은 값이라고 말할 수 없습니다. 색이 비슷해 보여도 실제 값의
크기는 다를 수 있어서, 연도 간 비교하기 어려워집니다. 따라서, 연도 간
변화를 비교하고 싶다면, 색이 의미하는 값의 범위를 동일하게 맞춰야
합니다.</p>

<p>이 글에서는 두 연도의 지도를 한 화면에 배치하면서 하나의 범례를 제시하는
방법과, 지도를 따로 저장하더라도 범례를 고정하는 방법을 소개합니다.</p>

<h2 id="데이터-준비">데이터 준비</h2>

<p>먼저 서울시 자치구 경계 shp 파일을 <code class="language-plaintext highlighter-rouge">st_read()</code>로 읽고, 1995년과 2023년
주민등록인구 데이터는 <code class="language-plaintext highlighter-rouge">read_xlsx()</code>로 불러옵니다.</p>

<p>서울시 자치구 경계 데이터는 V-World 디지털트윈국토의
<a href="https://www.vworld.kr/dtmk/dtmk_ntads_s002.do?svcCde=MK&amp;dsId=30604">행정구역시군구_경계</a>에서
다운받고, 주민등록인구 데이터는 통계청의
<a href="https://kosis.kr/statHtml/statHtml.do?orgId=101&amp;tblId=DT_1YL20651E&amp;vw_cd=MT_GTITLE01&amp;list_id=101&amp;scrId=&amp;seqNo=&amp;lang_mode=ko&amp;obj_var_id=&amp;itm_id=&amp;conn_path=MT_GTITLE01&amp;path=%252FstatisticsList%252FstatisticsListIndex.do">주민등록인구(시도/시/군/구)</a>에서
다운받을 수 있습니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 패키지 로드</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">sf</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">scales</span><span class="p">)</span><span class="w">

</span><span class="c1"># 서울시 자치구 shp 파일 로드</span><span class="w">
</span><span class="n">sgg</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">st_read</span><span class="p">(</span><span class="s2">"데이터/수도권 지도/행정구역 경계/LARD_ADM_SECT_SGG_11_202405.shp"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Reading layer `LARD_ADM_SECT_SGG_11_202405' from data source 
##   `...\데이터\수도권 지도\행정구역 경계\LARD_ADM_SECT_SGG_11_202405.shp' 
##   using driver `ESRI Shapefile'
## Simple feature collection with 25 features and 4 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: 179191.4 ymin: 536562.8 xmax: 216242.3 ymax: 566863.5
## Projected CRS: KGD2002_Central_Belt_2010
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 서울시 자치구 주민등록인구수</span><span class="w">
</span><span class="n">pop_raw</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read_xlsx</span><span class="p">(</span><span class="s2">"데이터/주민등록인구_서울.xlsx"</span><span class="p">)</span><span class="w">

</span><span class="c1"># 데이터 확인</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">pop_raw</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## # A tibble: 6 × 3
##   행정구역별   시점  `계 (명)`
##   &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt;
## 1 서울특별시   1995   10550871
## 2 서울특별시   2023    9386034
## 3 　　　종로구 1995     203086
## 4 　　　종로구 2023     139417
## 5 　　　중구   1995     143138
## 6 　　　중구   2023     121312
</code></pre></div></div>

<h2 id="공간-데이터와-인구-데이터-조인하기">공간 데이터와 인구 데이터 조인하기</h2>

<p>주민등록인구 데이터와 shp 파일을 조인하기 위해 먼저 <code class="language-plaintext highlighter-rouge">str_trim()</code>으로
자치구 이름의 불필요한 공백을 제거합니다. 이후 <code class="language-plaintext highlighter-rouge">str_replace()</code>로 shp
파일의 자치구 이름에서 ’서울특별시’라는 접두어를 제거하여 데이터의 이름
형식을 통일합니다. 마지막으로, <code class="language-plaintext highlighter-rouge">left_join()</code>을 통해 두 데이터를
결합합니다. 이렇게 하면 지도 데이터에 인구수가 결합되어 시각화에 사용할
수 있는 데이터가 완성됩니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 데이터 가공</span><span class="w">
</span><span class="n">pop</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">pop_raw</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">행정구역별</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_trim</span><span class="p">(</span><span class="n">행정구역별</span><span class="p">,</span><span class="w"> </span><span class="s2">"both"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">rename</span><span class="p">(</span><span class="n">`인구 수(명)`</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`계 (명)`</span><span class="p">)</span><span class="w">

</span><span class="c1"># 데이터 조인</span><span class="w">
</span><span class="n">joined_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">sgg</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">SGG_NM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_replace</span><span class="p">(</span><span class="n">SGG_NM</span><span class="p">,</span><span class="w"> </span><span class="s2">"서울특별시 "</span><span class="p">,</span><span class="w">  </span><span class="s2">""</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
  </span><span class="n">left_join</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"SGG_NM"</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"행정구역별"</span><span class="p">))</span><span class="w">

</span><span class="c1"># 데이터 확인</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">joined_data</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Simple feature collection with 6 features and 6 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: 195102.6 ymin: 545229.7 xmax: 202367.6 ymax: 559196.5
## Projected CRS: KGD2002_Central_Belt_2010
##   ADM_SECT_C SGG_NM SGG_OID COL_ADM_SE 시점 인구 수(명)
## 1      11110 종로구      11      11110 1995      203086
## 2      11110 종로구      11      11110 2023      139417
## 3      11140   중구      34      11140 1995      143138
## 4      11140   중구      34      11140 2023      121312
## 5      11170 용산구       1      11170 1995      254579
## 6      11170 용산구       1      11170 2023      213151
##                         geometry
## 1 MULTIPOLYGON (((197800 5590...
## 2 MULTIPOLYGON (((197800 5590...
## 3 MULTIPOLYGON (((202072.4 55...
## 4 MULTIPOLYGON (((202072.4 55...
## 5 MULTIPOLYGON (((197569.6 55...
## 6 MULTIPOLYGON (((197569.6 55...
</code></pre></div></div>

<h2 id="방법-1-한-번에-그리고-패싯으로-나누기">방법 1: 한 번에 그리고 패싯으로 나누기</h2>

<p>가장 간단한 방법은 두 시점을 한 번에 그린 뒤, <code class="language-plaintext highlighter-rouge">facet_wrap(~시점)</code>으로
패널만 나누는 것입니다. 같은 <code class="language-plaintext highlighter-rouge">scale_fill_gradient</code>를 공유하기 때문에
범례가 자동으로 통일됩니다.</p>

<p>이 방법은 코드가 단순하다는 장점이 있습니다. 지도를 두 장 그리는 것이
아니라 한 장의 그래프 안에서 패널만 나누는 방식이라, 범례가 자연스럽게
하나로 맞춰집니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joined_data</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`인구 수(명)`</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ffffff'</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ff6666'</span><span class="p">,</span><span class="w">
                      </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">label_comma</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">시점</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SGG_NM</span><span class="p">),</span><span class="w"> 
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">(</span><span class="n">`인구 수(명)`</span><span class="p">)),</span><span class="w">
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme_void</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p><img src="/assets/images/2026-01-07-using-one-legend-across-multiple-maps/unnamed-chunk-3-1.png" width="100%" style="display: block; margin: auto;" alt="1995년, 2023년 서울 자치구별 인구 수 지도" /></p>

<h2 id="방법-2-색상-범위를-직접-고정하기">방법 2: 색상 범위를 직접 고정하기</h2>

<p>패싯을 나누지 않고 지도를 따로 저장해야 하는 경우도 있습니다. 이럴 때는
색상 범례의 범위를 직접 고정하면 됩니다. 핵심은 두 시점 전체 데이터를
기준으로 최소/최대값을 계산한 뒤, 그 값을
<code class="language-plaintext highlighter-rouge">scale_fill_gradient(limits = ...)</code>에 넣는 것입니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">fill_limits</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">range</span><span class="p">(</span><span class="n">joined_data</span><span class="o">$</span><span class="n">`인구 수(명)`</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="n">fill_limits</span><span class="w">
</span></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 121312 666806
</code></pre></div></div>

<p>이제 어떤 지도에서도 같은 <code class="language-plaintext highlighter-rouge">fill_limits</code>를 사용하면, 지도마다 색이
의미하는 값 범위가 고정됩니다. 이를 이용해, 1995년 지도와 2023년 지도를 따로
그려보겠습니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1995년 지도 그리기</span><span class="w">
</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joined_data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
         </span><span class="n">filter</span><span class="p">(</span><span class="n">시점</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"1995"</span><span class="p">),</span><span class="w"> 
       </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`인구 수(명)`</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ffffff'</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ff6666'</span><span class="p">,</span><span class="w">
                      </span><span class="n">limits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fill_limits</span><span class="p">,</span><span class="w">
                      </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">label_comma</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SGG_NM</span><span class="p">),</span><span class="w"> 
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">(</span><span class="n">`인구 수(명)`</span><span class="p">)),</span><span class="w">
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme_void</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p><img src="/assets/images/2026-01-07-using-one-legend-across-multiple-maps/unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto;" alt="1995년 서울 자치구별 인구 수 지도" /></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 2023년 지도 그리기</span><span class="w">
</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joined_data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> 
         </span><span class="n">filter</span><span class="p">(</span><span class="n">시점</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"2023"</span><span class="p">),</span><span class="w"> 
       </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`인구 수(명)`</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ffffff'</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ff6666'</span><span class="p">,</span><span class="w">
                      </span><span class="n">limits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fill_limits</span><span class="p">,</span><span class="w">
                      </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">label_comma</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SGG_NM</span><span class="p">),</span><span class="w"> 
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">(</span><span class="n">`인구 수(명)`</span><span class="p">)),</span><span class="w">
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.7</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme_void</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p><img src="/assets/images/2026-01-07-using-one-legend-across-multiple-maps/unnamed-chunk-6-1.png" width="100%" style="display: block; margin: auto;" alt="2023년 서울 자치구별 인구 수 지도" /></p>

<h2 id="지도-다듬기">지도 다듬기</h2>

<p>글꼴을 설정해 지도의 가독성을 높여줍니다. 먼저, <code class="language-plaintext highlighter-rouge">font_add</code>를 사용해
글꼴을 추가하고 <code class="language-plaintext highlighter-rouge">showtext_auto</code>로 활성화합니다. 마지막으로, <code class="language-plaintext highlighter-rouge">theme</code>으로
범례와 스트립 텍스트(연도)의 글꼴, 크기, 위치 등을 조정해 줍니다.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 패키지 로드</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">showtext</span><span class="p">)</span><span class="w">

</span><span class="c1"># 글꼴 설정</span><span class="w">
</span><span class="n">font_add</span><span class="p">(</span><span class="s2">"kopub"</span><span class="p">,</span><span class="w"> </span><span class="s2">"C:/Users/.../AppData/Local/Microsoft/Windows/Fonts/KoPub Dotum Medium.ttf"</span><span class="p">)</span><span class="w">
</span><span class="n">font_add</span><span class="p">(</span><span class="s2">"kopub_b"</span><span class="p">,</span><span class="w"> </span><span class="s2">"C:/Users/.../AppData/Local/Microsoft/Windows/Fonts/KoPub Dotum Bold.ttf"</span><span class="p">)</span><span class="w">

</span><span class="n">showtext_auto</span><span class="p">()</span><span class="w">
</span><span class="n">showtext_opts</span><span class="p">(</span><span class="n">dpi</span><span class="o">=</span><span class="m">300</span><span class="p">)</span><span class="w">

</span><span class="n">theme.size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w">
</span><span class="n">geom.text.size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">theme.size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">.pt</span><span class="w">

</span><span class="c1"># 지도 그리기</span><span class="w">
</span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">joined_data</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`인구 수(명)`</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">"gray20"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_gradient</span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ffffff'</span><span class="p">,</span><span class="w"> 
                      </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'#ff6666'</span><span class="p">,</span><span class="w">
                      </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">label_comma</span><span class="p">())</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">시점</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SGG_NM</span><span class="p">),</span><span class="w"> 
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">-0.7</span><span class="p">,</span><span class="w">
               </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"kopub_b"</span><span class="p">,</span><span class="w">
               </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geom.text.size</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">geom_sf_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comma</span><span class="p">(</span><span class="n">`인구 수(명)`</span><span class="p">)),</span><span class="w">
               </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.7</span><span class="p">,</span><span class="w">
               </span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"kopub_b"</span><span class="p">,</span><span class="w">
               </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geom.text.size</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme_void</span><span class="p">(</span><span class="n">base_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"kopub"</span><span class="p">,</span><span class="w"> </span><span class="n">base_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">theme.size</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="w">
    </span><span class="n">strip.text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"kopub_b"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">theme.size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">1.5</span><span class="p">),</span><span class="w">
    </span><span class="n">legend.position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"bottom"</span><span class="p">,</span><span class="w">
    </span><span class="n">legend.title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"kopub_b"</span><span class="p">,</span><span class="w"> </span><span class="n">vjust</span><span class="o">=</span><span class="m">1</span><span class="p">),</span><span class="w">
    </span><span class="n">legend.text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">theme.size</span><span class="p">),</span><span class="w">
    </span><span class="n">legend.key.height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unit</span><span class="p">(</span><span class="n">theme.size</span><span class="p">,</span><span class="w"> </span><span class="s2">"pt"</span><span class="p">),</span><span class="w">
    </span><span class="n">legend.key.width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unit</span><span class="p">(</span><span class="n">theme.size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="s2">"pt"</span><span class="p">)</span><span class="w">
  </span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="/assets/images/2026-01-07-using-one-legend-across-multiple-maps/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" alt="1995년, 2023년 서울 자치구별 인구 수 지도" /></p>

<p>여러 지도를 비교할 때는 ’색이 의미하는 값의 범위를 지도마다 같게
맞춘다’는 원칙을 지키는 것이 중요합니다. 시점이 다른 지도뿐 아니라, 서로
다른 지역(예: 서울 vs 경기)을 나란히 놓고 비교할 때도 같은 방식으로 공통
범례를 적용하면 색만으로 값의 크기를 직관적으로 비교할 수 있습니다.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2026-01-07T00:00:00+09:00">January 7, 2026</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/data/regex-basics/" class="pagination--pager" title="정규표현식 기초 익히고 문자열 다루기">Previous</a>
    
    
      <a href="/data/concatenating-text-by-group/" class="pagination--pager" title="그룹별 텍스트 한 줄로 모으기">Next</a>
    
  </nav>


    </div>

    
      
        <p>
          Comments are configured with provider: <strong>utterances</strong>,
          but are disabled in non-production environments.
        </p>
      
    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/map/creating-an-inset-map-for-islands/" rel="permalink">도서 지역 박스 처리하기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-08T00:00:00+09:00">January 8, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">도서 지역이 함께 포함되면서 정작 보여주고 싶은 지역이 작아져 난감했던 적이 있지 않나요? 이번 글에서는 메인 지도와 도서 지역 지도를 따로 그린 뒤, 도서 지역을 박스 형태로 메인 지도 위에 얹는 방법을 소개합니다. 이렇게 하면 지역을 누락하지 않으면서도 메인 지역이 화면에서 충...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/data/concatenating-text-by-group/" rel="permalink">그룹별 텍스트 한 줄로 모으기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-08T00:00:00+09:00">January 8, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">그룹마다 텍스트 행을 한 줄로 모아 목록을 만들고 싶었던 적이 있지 않나요? 같은 그룹에 속한 값을 쉼표로 연결해 문자열 한 줄로 만드는 방법을 소개합니다. 예제로 시도별 시군구 목록을 만들어봅니다.
</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/data/regex-basics/" rel="permalink">정규표현식 기초 익히고 문자열 다루기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-07T00:00:00+09:00">January 7, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">형식이 제각각인 문자열 때문에 정리하는 데 시간이 걸린 적이 있나요? stringr 패키지와 정규표현식을 함께 쓰면 문자열에서 원하는 패턴이 있는지 확인하고, 필요한 부분만 뽑아내고, 표기를 같은 형식으로 맞출 수 있습니다. 정규표현식의 기본 개념을 간단히 짚은 뒤, 바로 따라 할...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/data/combining-multiple-excel-files/" rel="permalink">여러 엑셀 파일 한 번에 합치기
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2026-01-06T00:00:00+09:00">January 6, 2026</time>
      </span>
    

    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">지역별로 나뉜 엑셀 파일을 하나씩 열어 복사해 붙이느라 시간을 쓰고 계신가요? 폴더에 들어 있는 여러 엑셀 파일을 한 번에 읽고, 하나의 테이블로 합치는 방법을 소개합니다.
</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        


<div class="page__footer-copyright">&copy; 2026 <a href="http://localhost:4000">알로그림</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'rlogrim/rlogrim.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('label', 'comment');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  




  </body>
</html>
